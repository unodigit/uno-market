import React, { Component, ReactNode } from 'react';
{{#if hasImports}}
{{imports}}
{{/if}}

{{#if hasInterface}}
interface {{componentName}}Props {
  {{#each props}}
  {{name}}{{#if optional}}?{{/if}}: {{type}};
  {{/each}}
  {{#if hasChildren}}
  children?: ReactNode;
  {{/if}}
  {{#if hasClassName}}
  className?: string;
  {{/if}}
}
{{/if}}

{{#if hasState}}
interface {{componentName}}State {
  {{#each state}}
  {{name}}: {{type}};
  {{/each}}
}
{{/if}}

export class {{componentName}} extends Component<{{#if hasInterface}}{{componentName}}Props{{else}}{}{{/if}}, {{#if hasState}}{{componentName}}State{{/if}}> {
  {{#if hasState}}
  constructor(props: {{#if hasInterface}}{{componentName}}Props{{else}}{}{{/if}}) {
    super(props);

    this.state = {
      {{#each state}}
      {{name}}: {{defaultValue}},
      {{/each}}
    };
  }
  {{/if}}

  {{#if hasLifecycleMethods}}
  {{lifecycleMethods}}
  {{/if}}

  {{#if hasMethods}}
  {{methods}}
  {{/if}}

  render() {
    const { {{#each props}}{{name}}, {{/each}}{{#if hasChildren}}children, {{/if}}{{#if hasClassName}}className{{/if}} } = this.props;
    {{#if hasState}}
    const { {{#each state}}{{name}}, {{/each}} } = this.state;
    {{/if}}

    return (
      <{{wrapperTag}}{{#if hasClassName}} className={cn('{{baseClasses}}', className)}{{/if}}{{#if hasAdditionalProps}} {{additionalProps}}{{/if}}>
        {{#if hasChildren}}
        {children}
        {{/if}}
        {{#if hasContent}}
        {{content}}
        {{/if}}
      </{{wrapperTag}}>
    );
  }
}

export default {{componentName}};